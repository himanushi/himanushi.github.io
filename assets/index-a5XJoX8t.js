(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function i(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=i(t);fetch(t.href,r)}})();preact.Fragment;var p=0;function o(e,c,i,s,t,r){var n,l,u={};for(l in c)l=="ref"?n=c[l]:u[l]=c[l];var f={type:e,props:u,key:i,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--p,__i:-1,__u:0,__source:t,__self:r};if(typeof e=="function"&&(n=e.defaultProps))for(l in n)u[l]===void 0&&(u[l]=n[l]);return preact.options.vnode&&preact.options.vnode(f),f}const g=preactSignals.signal([]),d=preactSignals.signal({}),m=(e,c="/blogs")=>{const[i,s]=preactHooks.useState(null);return preactHooks.useEffect(()=>{var r;const t=(r=d.value[e])==null?void 0:r.content;if(t||t===null){s(t);return}fetch(`${c}/${e}.md?time=${Date.now()}`).then(n=>n.ok?n.text():(d.value[e]={content:null},Promise.reject(n))).then(async n=>{const l=await marked.marked(n);d.value[e]={content:l},s(l)}).catch(n=>console.error("Error loading blog content:",n))},[e]),i},b="_blogContainer_1m3i3_1",v="_blogPost_1m3i3_7",y="_blogContent_1m3i3_19",C="_blogComment_1m3i3_20",L="_blogTarot_1m3i3_21",a={blogContainer:b,blogPost:v,blogContent:y,blogComment:C,blogTarot:L},N=({matches:e})=>{const c=m(e.id),i=m(`${e.id}.comment`,"/comments"),s=m(`${e.id}.tarot`,"/comments");return o("div",{className:a.blogContainer,children:[o("h2",{children:e.id}),o("div",{className:a.blogPost,children:o("div",{className:a.blogContent,dangerouslySetInnerHTML:{__html:c??""}})}),s&&o("div",{className:a.blogPost,children:[o("h2",{children:"Fortune"}),o("div",{className:a.blogTarot,dangerouslySetInnerHTML:{__html:s}})]}),i&&o("div",{className:a.blogPost,children:[o("h2",{children:"Comment"}),o("div",{className:a.blogComment,dangerouslySetInnerHTML:{__html:i}})]})]})},P="_homeContainer_1heyf_1",$="_blogList_1heyf_12",_={homeContainer:P,blogList:$},H=()=>o("div",{className:_.homeContainer,children:[o("h1",{children:"Himanushi Lifelog"}),o("ul",{className:_.blogList,children:g.value.map(e=>o("li",{children:o("a",{href:`/blogs/${e}`,children:e})},e))})]}),R=()=>o("div",{children:"ページが見つかりません"}),S=()=>{preactHooks.useEffect(()=>{g.value.length>0||fetch(`/blogList.txt?time=${Date.now()}`).then(e=>e.text()).then(e=>{g.value=e.split(`
`).reverse()}).catch(e=>console.error("Error loading blog list:",e))},[])},T=()=>(S(),o(preactRouter.Router,{children:[o(preactRouter.Route,{path:"/",component:H}),o(preactRouter.Route,{path:"/blogs/:id",component:N}),o(preactRouter.Route,{default:!0,component:R})]})),h=document.getElementById("app");h&&preact.render(o(T,{}),h);
