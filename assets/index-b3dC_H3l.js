(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function c(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(t){if(t.ep)return;t.ep=!0;const r=c(t);fetch(t.href,r)}})();preact.Fragment;var b=0;function o(e,s,c,i,t,r){var n,l,u={};for(l in s)l=="ref"?n=s[l]:u[l]=s[l];var p={type:e,props:u,key:c,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--b,__i:-1,__u:0,__source:t,__self:r};if(typeof e=="function"&&(n=e.defaultProps))for(l in n)u[l]===void 0&&(u[l]=n[l]);return preact.options.vnode&&preact.options.vnode(p),p}let d=!1;const v={paragraph(e){return/^\d{2}:\d{2}$/.test(e)?d?`</div><div class="time-block"><span class="time-display">${e}</span>`:(d=!0,`<div class="time-block"><span class="time-display">${e}</span>`):`<p>${e}</p>`}};marked.marked.use({renderer:v});const y=async e=>{const s=marked.marked(e);return d?(d=!1,`${s}</div>`):s},g=preactSignals.signal([]),m=preactSignals.signal({}),f=(e,s="/blogs")=>{const[c,i]=preactHooks.useState(null);return preactHooks.useEffect(()=>{var r;const t=(r=m.value[e])==null?void 0:r.content;if(t||t===null){i(t);return}fetch(`${s}/${e}.md?time=${Date.now()}`).then(n=>n.ok?n.text():(m.value[e]={content:null},Promise.reject(n))).then(async n=>{const l=await y(n);m.value[e]={content:l},i(l)}).catch(n=>console.error("Error loading blog content:",n))},[e]),c},C="_blogContainer_1m3i3_1",L="_blogPost_1m3i3_7",P="_blogContent_1m3i3_19",$="_blogComment_1m3i3_20",N="_blogTarot_1m3i3_21",a={blogContainer:C,blogPost:L,blogContent:P,blogComment:$,blogTarot:N},k=({matches:e})=>{const s=f(e.id),c=f(`${e.id}.comment`,"/comments"),i=f(`${e.id}.tarot`,"/comments");return o("div",{className:a.blogContainer,children:[o("h2",{children:e.id}),o("div",{className:a.blogPost,children:o("div",{className:a.blogContent,dangerouslySetInnerHTML:{__html:s??""}})}),i&&o("div",{className:a.blogPost,children:[o("h2",{children:"Fortune"}),o("div",{className:a.blogTarot,dangerouslySetInnerHTML:{__html:i}})]}),c&&o("div",{className:a.blogPost,children:[o("h2",{children:"Comment"}),o("div",{className:a.blogComment,dangerouslySetInnerHTML:{__html:c}})]})]})},H="_homeContainer_1heyf_1",R="_blogList_1heyf_12",_={homeContainer:H,blogList:R},T=()=>o("div",{className:_.homeContainer,children:[o("h1",{children:"Himanushi Lifelog"}),o("ul",{className:_.blogList,children:g.value.map(e=>o("li",{children:o("a",{href:`/blogs/${e}`,children:e})},e))})]}),S=()=>o("div",{children:"ページが見つかりません"}),E=()=>{preactHooks.useEffect(()=>{g.value.length>0||fetch(`/blogList.txt?time=${Date.now()}`).then(e=>e.text()).then(e=>{g.value=e.split(`
`).reverse()}).catch(e=>console.error("Error loading blog list:",e))},[])},O=()=>(E(),o(preactRouter.Router,{children:[o(preactRouter.Route,{path:"/",component:T}),o(preactRouter.Route,{path:"/blogs/:id",component:k}),o(preactRouter.Route,{default:!0,component:S})]})),h=document.getElementById("app");h&&preact.render(o(O,{}),h);
